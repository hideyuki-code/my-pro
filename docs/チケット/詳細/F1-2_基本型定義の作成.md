# F1-2: 基本型定義の作成

## チケット概要

PokeAPIのレスポンスに基づき、アプリで利用するポケモン・お気に入り等の型定義（TypeScript interface）を作成する。

## 作業内容

1. PokeAPIのドキュメントを参照し、必要なデータ構造を確認
2. Pokemon型（id, name, sprites, types など）の定義
3. FavoritePokemon型（id, name, image など）の定義
4. ContextやPropsで利用する型の定義
5. 型定義ファイル（types/ または interfaces/ ディレクトリ）を作成

## 受け入れ基準

- Pokemon型、FavoritePokemon型などがTypeScriptで定義されている
- 型定義ファイルがプロジェクト内に作成されている
- 型定義がContextやコンポーネントで利用できる

## 学習ポイント

- TypeScriptのinterface・型エイリアスの使い分け
- PokeAPIのレスポンス構造の読み解き方
- 型安全なReactコンポーネント設計
- 型定義の分割・管理方法

## 備考

- PokeAPIのエンドポイント例: https://pokeapi.co/api/v2/pokemon/1
- 必要に応じて型を拡張・修正してOK

## 詳細ステップ

### 1. 型定義ファイルの作成
- `src/types`ディレクトリを作成（まだ存在しない場合）
- 基本型定義ファイルを作成：`src/types/index.ts`

### 2. タスク関連の型定義
- タスクの基本的な型定義を実装
```typescript
// src/types/index.ts
export interface Task {
  id: string;         // タスクの一意識別子
  title: string;      // タスクのタイトル
  description: string; // タスクの詳細説明
  completed: boolean; // 完了状態
}
```

### 3. タスク状態管理用の型定義
- タスク状態管理のための追加型定義
```typescript
// 同じファイルに追加
export interface TaskState {
  tasks: Task[];      // タスクのリスト
  filter: 'all' | 'active' | 'completed'; // フィルタータイプ
}
```

### 4. コンポーネントのProps型定義
- タスク関連コンポーネントで使用するPropsの型定義
```typescript
// src/types/index.ts に追加
export interface TaskItemProps {
  task: Task;
  onToggleComplete: (id: string) => void;
  onDelete: (id: string) => void;
}

export interface TaskListProps {
  tasks: Task[];
  onToggleComplete: (id: string) => void;
  onDelete: (id: string) => void;
}

export interface TaskFormProps {
  onAddTask: (task: Omit<Task, 'id' | 'completed'>) => void;
}
```

### 5. 型ガードの実装
- 基本的な型ガードの実装例
```typescript
// src/types/index.ts に追加
export function isTask(obj: any): obj is Task {
  return (
    typeof obj === 'object' &&
    typeof obj.id === 'string' &&
    typeof obj.title === 'string' &&
    typeof obj.description === 'string' &&
    typeof obj.completed === 'boolean'
  );
}
```

### 6. サンプルコードの作成と動作確認
- 型定義を利用したサンプルコード作成
```typescript
// src/utils/taskUtils.ts
import { Task } from '../types';

export function createTask(title: string, description: string): Task {
  return {
    id: Date.now().toString(),
    title,
    description,
    completed: false
  };
}

export function toggleTaskStatus(tasks: Task[], taskId: string): Task[] {
  return tasks.map(task => 
    task.id === taskId 
      ? { ...task, completed: !task.completed } 
      : task
  );
}
```

## 学習資料
- [TypeScript公式ドキュメント - 基本的な型](https://www.typescriptlang.org/docs/handbook/basic-types.html)
- [TypeScript公式ドキュメント - インターフェース](https://www.typescriptlang.org/docs/handbook/interfaces.html)
- [React TypeScript Cheatsheet](https://github.com/typescript-cheatsheets/react)

## 口頭で説明できるようにすべき質問
1. TypeScriptのインターフェースとは何か、そしてなぜ使用するのですか？
2. ReactコンポーネントでPropsの型を定義する方法とその利点は何ですか？
3. 型ガードとは何か、なぜそれが必要なのかを説明できますか？
4. TypeScriptの`Omit`ユーティリティ型の役割は何ですか？
5. オプショナルプロパティはどのように定義し、どのような場合に使用しますか？

## 関連ドキュメント
- [基本設計書](../../基本設計書.md)
- [F1-1: プロジェクト初期設定](./F1-1_プロジェクト初期設定.md)

## 担当者
担当者名

## 見積時間
6時間 